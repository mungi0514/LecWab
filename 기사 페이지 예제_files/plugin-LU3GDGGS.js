"use strict";(()=>{var bi=Object.defineProperty;var yi=(t,i)=>{for(var e in i)bi(t,e,{get:i[e],enumerable:!0})};var T,te=!1,vi=10;(function(){let t=0,i=null;T=window;try{for(;t<vi&&!(!T.parent||T.parent===T||!T.parent.document||!T.parent.window);){i=T.parent;let e=null,n=i.document.getElementsByTagName("iframe");for(let r=0;r<n.length;r++)n[r].contentWindow===T&&(e=n[r]);if(te=!!e,n.length===0||!te)break;T=T.parent.window,t++}}catch{}})();var ot=window,Jn=window.location&&window.location.protocol==="https:"?"https:":"http:";function xi(){return T}function x(){return ot}function st(t){ot=t}function Ei(t){try{let i=t.ownerDocument,e=i.defaultView||i.parentWindow,n=e.parent&&e.parent.document&&e.parent.document.getElementsByTagName("iframe");for(let r=0;r<n.length;r++)if(n[r].contentWindow===e)return n[r]}catch{}return null}function k(){return window.TEST_API_SERVER_DOMAIN||"api.dable.io"}function at(){return window.TEST_BANNER_SERVER_DOMAIN||"ax-bn.dable.io"}function ue(){return window.TEST_RECO_LOGGING_SERVER_DOMAIN||"r-log.dable.io"}function fe(t,i){return t.getAttribute(i)}function Le(){return/(android).+mobile|\(.*ip(hone|od)|opera m(ob|in)i/i.test(navigator.userAgent||"")}function Ce(){let t=window.matchMedia("(max-width: 500px)").matches;return Le()||t}function me(){let t=navigator.userAgent.toLowerCase();return/ip(hone|od|ad)/i.test(t)}function ie(t){return t&&t.offsetHeight}function Si(t){return t.offsetWidth===0&&t.offsetHeight===0}function j(t,i=!1){let e=t;if(!t||!i&&Si(t))return!1;let n=0,r=0;for(;t;)n+=t.offsetLeft||0,r+=t.offsetTop||0,t=t.offsetParent;try{let s=e.ownerDocument,o=s.defaultView||s.parentWindow;if(te&&o.parent&&o.parent.window&&o.parent!==o){let a=j(Ei(e),!0);return{x:n+a.x,y:r+a.y}}}catch{}return{x:n,y:r}}function A(t){let i=j(t);return i?i.y:!1}function R(){let t=document,i=window;if(te)try{i=parent,t=parent.document}catch{}let e=0;return x()!==i&&x().scrollTop?e=x().scrollTop:typeof i.pageYOffset=="number"&&i.pageYOffset!==0?e=i.pageYOffset:(t.documentElement||t.body)&&(e=t.documentElement?.scrollTop||t.body?.scrollTop||0),e}function F(){let t=te?xi():window,i=t.document.body,e=t.document.documentElement||document.body;return{viewport:t.innerHeight||e.clientHeight,window:Math.max(i.scrollHeight,i.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)}}function M(t){let i=t.replace(/[[\]]/g,"\\$&"),e=(window.location.search||"").match(new RegExp(`[?&]${i}=([^&]*)`));return e&&e[1]||null}function We(t){if(!t||typeof t!="object"||"isActiveClone"in t)return t;let i=t.constructor();return Object.keys(t).forEach(e=>{i[e]=We(t[e])}),i}function ct(){let t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return t?t.type==="wifi":null}function Ti(t){return Array.prototype.slice.call(document.getElementsByTagName("script")).some(e=>e.src===t)}function Me(t){let i=document.createElement("script");return i.type="text/javascript",i.src=t,document.getElementsByTagName("head")[0].appendChild(i)}function lt(t){if(!Ti(t))return Me(t)}var Ii="dable_push";function ge(t){let i=new URL(t),e=i.searchParams.get("referrer"),n=i.searchParams.get("message_id");if(e===Ii&&n)return n}function Oe(t){if(ge(t))return"web_push"}function Be(t){let i=Oe(window.location.href||"");if(i)return i;if(!t)return"";if(t.indexOf("api.dable.io/widgets")>-1){let e=t.indexOf("?");if(e>0)return t.substring(0,e)}return t}function pe(){return Be(document.referrer||"")}function dt(t){let i=document.createElement("style");i.type="text/css",i.innerHTML=t,document.head.appendChild(i)}function he(){let t=window.crypto||window.msCrypto,i="";if(t&&t.randomUUID)return t.randomUUID();if(t&&t.getRandomValues){let e=new Uint32Array(10);t.getRandomValues(e),i=Array.prototype.slice.call(e).map(r=>r.toString(16)).join("")}if(!i){let e=parseInt(window.location.href.toLowerCase().replace(/[^a-z\d]/g,"").substring(4,14),36).toString(16);i=Date.now().toString(16)+(Math.random()*Math.pow(10,12)).toString(16).replace(".","")+e}return i.replace(/^(\w{8})(\w{4})(\w{4})(\w{4})(\w{12}).*$/,"$1-$2-$3-$4-$5")}function De(t){let i="=".repeat((4-t.length%4)%4),e=(t+i).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(e),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}function ut(t,i){if(t.byteLength!==i.byteLength)return!1;let e=new Uint8Array(t),n=new Uint8Array(i);return e.every((r,s)=>r===n[s])}function ft(){let t=document.referrer||"";return/\budn\.com\/?$/.test(t)&&/\/index\/?/.test(location.pathname)?!1:t.includes(location.origin)}var Ue={};yi(Ue,{handler:()=>Ai,init:()=>Pi});var mt=["ml6aG8A7","2Xn6KNRX"];function Pi(t,i){let e=()=>{document.dispatchEvent(new CustomEvent("dable-exit",{detail:{el:t,status:history.state?.dableEventExit,renderer:i}}))},n=!1,r=()=>{let o=history.state?.dableEventExit;return!n&&o&&(n=!0,e()),!!o};window.addEventListener("popstate",e);let s=()=>{let o=history.state||{};r()||ft()||(history.replaceState({...o,dableEventExit:2},""),history.pushState({...o,dableEventExit:1},""))};window.addEventListener("load",r),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",s):s()}function Ai(t){let{el:i,status:e,renderer:n}=t.detail,r=i.closest('dialog,[role="dialog"]');if(r){if(e===1){r.style.left="-9999px",r.style.width="10px",r.show(),i.getAttribute("data-widget_id-mo")||i.getAttribute("data-widget_id-pc")?n.renderWidgetByWidth():n.renderWidget();return}if(e===2){if(!r.open)return;r.style.left="",r.style.width="";return}r.close()}}function N(t,i,e){t.addEventListener(i,e,!1)}function O(t,i,e){t.removeEventListener(i,e,!1)}function ht(t,i,e=100){let n,r;typeof CustomEvent=="function"?r=new CustomEvent(i,{bubbles:!0}):(n=t instanceof HTMLElement?t:document,r=new Event(i,{bubbles:!0,cancelable:!1})),setTimeout(function(){(typeof t.dispatchEvent=="function"?t:n).dispatchEvent(r)},e)}function ne(t,i,e){if(ne.initilized.get(t))return;let n={exit:Ue},r=n[t]?.handler;r&&document.addEventListener(`dable-${t}`,r),n[t]?.init?.(i,e),ne.initilized.set(t,!0)}ne.initilized=new Map;function g(t){try{window.console.log(`Dable DEBUG: ${t}`)}catch{}}var re=class{constructor(i){this.executor=i,this.handlers={},this.commands=[]}execute(i){let e=Array.prototype.slice.call(i),n=e.shift();n&&this.executor[n]?this.executor[n].apply(this.executor,e):g(`Unknown command: ${n}`)}push(i){if(Array.isArray(i[0])){i.forEach(e=>this.push(e));return}me()&&this.saveCommand(i),this.execute(i)}saveCommand(i){this.commands.push(i),this.hasListener("pageshow")||this.listen("pageshow")}hasListener(i){return!!this.handlers[i]}listen(i){this.handlers[i]=this[`${i}Handler`].bind(this),N(window,i,this.handlers[i])}unlisten(i){O(window,i,this.handlers[i]),this.handlers[i]=void 0}pageshowHandler(i){let e=i.persisted===!0,n=performance&&performance.navigation.type===2,r=performance.getEntriesByType("navigation")[0]&&performance.getEntriesByType("navigation")[0].type==="back_forward";!e||!(n||r)||(this.unlisten("pageshow"),this.listen("rebuild"),ht(document,"rebuild"))}rebuildHandler(){this.unlisten("rebuild");let i=[].concat(this.commands);this.commands=[],i.forEach(e=>this.push(e))}};function B(t){if(!t||typeof t!="object")return!1;let i=Object.getPrototypeOf(t);return i===null||i===Object.prototype}var _t=function(){let t=0;return()=>++t}();function wt(t){let i=document.createElement("script"),e=!1;i.src=t,i.async=!0,i.onload=()=>{e||(e=!0,i.onload=null,i?.parentNode?.removeChild(i))},document.head.appendChild(i)}function Ve(t,i=""){let e={};return Array.isArray(t)?t.forEach((n,r)=>Object.assign(e,Ve(n,`${i}[${r}]`))):B(t)?Object.entries(t).forEach(([n,r])=>Object.assign(e,Ve(r,`${i}${i?`[${n}]`:n}`))):i&&(e[i]=t===void 0?"":String(t)),e}function D(t,i={},e){let n=new URLSearchParams(Ve(i)),r=`_dbljson${_t()}`;return typeof window=="object"&&(window[r]=s=>{e?.(s)}),n.set("callback",r),n.set("_",String(Date.now())),wt(`${t}?${n.toString()}`),r}function bt(t,i={}){let e=new URLSearchParams(i),n=`_dbljson${_t()}`;return typeof window!="object"?Promise.reject(new Error("Only works in web browser")):(e.set("callback",n),e.set("_",String(Date.now())),new Promise(r=>{window[n]=s=>{r(s);try{delete window[n]}catch{}},wt(`${t}?${e.toString()}`)}))}function z(){return navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage||"ko"}function yt(){let t={"zh-TW":"zh-TW","zh-Hant":"zh-TW","zh-HK":"zh-TW","zh-CN":"zh-CN","zh-Hans":"zh-CN","zh-SG":"zh-CN"},i=z();return i in t?t[i]:i.split("-")[0].toLowerCase()}function we(t){if(typeof t!="string")return!1;let i=t.length;return t.replace(/[\x80-\xff]/g,"").length*2<i}var vt="_dbl_";function Ri(t,i){let e=vt+i,n;try{n=t.getItem(e)}catch{}if(!n)return null;let r=JSON.parse(n),s=+(r.until||r.expire_timestamp);return!s||!r.val?null:Date.now()>s?(t.removeItem(e),null):r.val}function $i(t,i,e,n=3600){let r=Date.now()+n*1e3;try{t.setItem(vt+i,JSON.stringify({val:e,until:r}))}catch{}}var be={};function oe(t="local",i=!1){if(t!=="local"&&t!=="session"&&(t="local"),!be[t]||i){let e;try{e=t==="local"?window.localStorage:window.sessionStorage,be[t]={get:Ri.bind(null,e),set:$i.bind(null,e)}}catch{be[t]={get:r=>null,set:r=>{}}}}return be[t]}function ye(t){if(t==null)throw new Error("arrayFrom: invalid argument");return Array.from&&!ye.ie?Array.from(t):Array.isArray(t)?t.concat():"length"in t?Array.prototype.slice.call(t):[]}ye.ie=!1;function Y(t){return Array.isArray(t)?t:[t]}function E(t,...i){return i.filter(e=>e&&typeof e=="object"&&!Array.isArray(e)).forEach(e=>{Object.keys(e).forEach(n=>{e[n]!==void 0&&(t[n]=e[n])})}),t}function ve(t){return t?typeof t=="string"?document.getElementById(t):typeof t=="object"?t:null:null}function He(t,i=1){if(Array.prototype.flat)return t.flat(i);let e=typeof i=="number"?i-1:0;return t.reduce((n,r)=>Array.isArray(r)&&i>0?n.concat(He(r,e)):n.push(r)&&n,[])}function je(t,i){return t=t%1?Math.round(t):t,Math.min(t,Math.floor(i))}function Fe(t={}){let{min:i,max:e}=t;t.digits&&(i=Math.pow(10,t.digits-1),e=Math.pow(10,t.digits)-1),(i===void 0||e===void 0)&&(i=0,e=1);let n=i+Math.random()*(e-i);return t.digits?je(n,e):n}function se(t){let i=Fe(t);return je(i,t?.max||Math.ceil(i))}function ki(t={}){let{min:i,max:e}=t;return t.digits&&(i=Math.pow(10,t.digits-1),e=Math.pow(10,t.digits)-1),(i===void 0||e===void 0)&&(i=0,e=1),{min:i,max:e}}function Ni({min:t,max:i,scalingFactor:e}){return t+e*(i-t)}function Li(){let t=window.crypto||window.msCrypto;if(!(t&&t.getRandomValues))return Math.random();let i=4294967295,e=new Uint32Array(1);return t.getRandomValues(e),e[0]/i}function xe(t={}){let i=Li(),{min:e,max:n}=ki(t),r=Ni({min:e,max:n,scalingFactor:i});return t.digits?je(r,n):r}var xt="/dable_worker.js",ze="dable-web-push",Et="BAdxgerUe6HhSKlAjFHF7mlxWQ8daufesqdTH4-C_aBTRdlAXeG_8Bv_UHhg0cCdxCfkxhovFy6g48WimOUV_BA",Ci="https://0a6pwivi9f.execute-api.ap-northeast-2.amazonaws.com/live/save-subscription";async function Wi(){try{let t=await navigator.serviceWorker.getRegistration(`/${ze}/`);t&&(await t.update(),console.log("[DABLE] Service Worker update attempted"))}catch(t){console.warn("[DABLE] Service Worker update failed:",t)}}async function Mi(){if(!("serviceWorker"in navigator))throw new Error("Service Worker not supported");let t=await navigator.serviceWorker.register(xt,{scope:`/${ze}/`,updateViaCache:"none"});return t.active?.state==="activated"?t:Oi(t)}function Oi(t){let i=t.installing||t.waiting;if(!i)throw new Error("No installing or waiting service worker found");return new Promise((e,n)=>{let r=setTimeout(()=>{n(new Error("Service worker activation timed out"))},3e4);function s(){this.state==="activated"?(o(),e(t)):this.state==="redundant"&&(o(),n(new Error("Service worker became redundant during activation")))}function o(){clearTimeout(r),i?.removeEventListener("statechange",s)}i.addEventListener("statechange",s)})}async function Bi(t,i){if(!await St())return;let n={userVisibleOnly:!0,applicationServerKey:De(Et)},r=await t.pushManager.subscribe(n);return await Di(r,i),r}async function Di(t,i){let e={service_id:i.serviceId,endpoint:t.endpoint,public_key:i.publicKey,keys:t.toJSON().keys};if(!e.service_id||!e.endpoint||!e.public_key||!e.keys)throw await t.unsubscribe(),new Error("Subscription information is incomplete.");try{return await(await fetch(Ci,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(n){throw await t.unsubscribe(),n}}async function Ui(t){let i=await Mi();return await Bi(i,t)}async function Vi(){let t=Notification.permission;return t==="granted"?!0:t==="denied"?!1:await Notification.requestPermission()==="granted"}function Hi(t,i){window.addEventListener("load",async()=>{try{if(!await Fi()||!await Vi())return i();await Ui(t)}catch(e){console.error("[DABLE] Web Push Error:",e)}finally{i()}})}function ji(){return Notification.permission==="denied"?!1:"serviceWorker"in navigator?!0:(console.log("[DABLE] Web Push: Service Worker not supported"),!1)}async function Fi(){try{let t=await fetch(xt),e=!!t.headers.get("content-type")?.includes("javascript"),n=(await t.text()).includes("importScripts");return t.ok&&e&&n}catch{return!1}}async function St(){try{let t=await navigator.serviceWorker.getRegistration(`/${ze}/`);if(!t)return!0;let i=await t.pushManager.getSubscription();if(!i)return!0;let e=De(Et),n=i.options?.applicationServerKey;return n&&ut(e,n)?!1:(await i.unsubscribe(),!0)}catch(t){return console.error("[DABLE] Error checking existing subscription:",t),!1}}async function Tt(t){if(!t?.service?.use_web_push||!t?.service?.public_key||!t?.service?.service_id||(await Wi(),!(ji()&&await St())))return;let e={serviceId:t.service.service_id,publicKey:t.service.public_key},n=window;try{let r=window.top;r&&(r.__dable_push_subscription_promise,n=r)}catch{console.log("[DABLE] Cannot access top window due to cross-origin restriction, using current window")}return n.__dable_push_subscription_promise?console.log("[DABLE] Web Push: Subscription already in progress"):n.__dable_push_subscription_promise=new Promise(r=>{Hi(e,r)}).finally(()=>{n.__dable_push_subscription_promise=null}),n.__dable_push_subscription_promise}function L(t){let e=new RegExp(`\\b${t}=(.*?)(?:[,;]|$)`).exec(document.cookie);return e&&e[1]&&e[1]!=="null"?e[1]:""}function q(t,i,e=60){let n=new Date(Date.now()+e*1e3),r=location.hostname.split("."),s=Math.max(0,r.length-2)+1;for(;--s>=0;){let o=r.slice(s).join("."),a=`${t}=${i}; path=/; domain=${o}; expires=${n.toUTCString()};`;if(document.cookie=a,L(t))return}}function Yi(t){let e={isTcfapiSet:!1,isGdpr:!1};if(typeof __tcfapi!="function"){t(e);return}let n=__tcfapi;n("addEventListener",2,(r,s)=>{if(e.isTcfapiSet=!0,!s){t(e);return}r.eventStatus==="useractioncomplete"||r.eventStatus==="tcloaded"||r.eventStatus===null||r.eventStatus===void 0?(n("removeEventListener",2,()=>{},r.listenerId),r.cmpStatus==="loaded"?(e.isGdpr=!!r.gdprApplies,e.isGdpr&&(e.consent=r.tcString),t(e)):g(`Unknown GDPR cmpStatus: ${JSON.stringify(r.cmpStatus)}`)):g(`Unknown GDPR eventStatus: ${JSON.stringify(r.eventStatus)}`)})}function Pt(){return new Promise(t=>{Yi(t)})}var Ee=new Map,At=oe("local");function Ye(t){if(!t||!t.serviceName)return Promise.reject(new Error("serviceName is required"));if(Ee.has(t.serviceName)&&!t.forceRefresh)return Promise.resolve(Ee.get(t.serviceName));if(!t.noLocalStorage){let e=At.get(Rt(t.serviceName));if(e&&Gi(e))return Ee.set(t.serviceName,e),Promise.resolve(e)}let i=t.apiServerDomain||k();return Pt().then(({isTcfapiSet:e,isGdpr:n,consent:r})=>{let s={uid:t.uid,tcfapiSet:String(Number(e)),gdpr:String(Number(n))};return t.cid&&(s.cid=t.cid),r&&(s.consent=r),bt(`https://${i}/plugin/services/${encodeURIComponent(t.serviceName)}/prefs2`,s)}).then(({result:e})=>{if(typeof e.service?.lazyload_widget_ids=="string")try{e.service.lazyload_widget_ids=JSON.parse(e.service.lazyload_widget_ids)}catch{e.service.lazyload_widget_ids=[]}if(!t.noLocalStorage){let n={};Object.keys(e).forEach(r=>{/\w+_log_url$/.test(r)||(n[r]=e[r])}),At.set(Rt(t.serviceName),n)}return Ee.set(t.serviceName,e),e})}function Rt(t){return`prefs__${t}`}function Gi(t){return!(!t||t.gdpr===void 0||!t.service||!t.service.country||!t.service.client_id||!t.service.lazyload_widget_ids)}var Ji=t=>{let{platform:i,platformVersion:e,wow64:n}=t;if(i==="macOS")return`Macintosh; Intel Mac OS X ${e}`;if(i==="Windows"){let r=e.split("."),s=parseInt(r[0]),o="Win64; x64";return n&&(o="WOW64"),s>0?`Windows NT 10.0; ${o}`:`Windows NT 6.${r[1]}; ${o}`}else{if(i==="Chrome OS")return`X11; CrOS x86_64 ${e}`;if(i==="Linux")return"X11; Linux x86_64"}},Ki=t=>{let{platform:i,platformVersion:e,model:n}=t;if(i==="Android")return`Linux; Android ${e}; ${n}`},$t=t=>{let i=null;for(let e in t){let n=t[e];if(n.brand==="Chromium"){i=n;break}}return i?i.version:null},C=t=>{let i=navigator.userAgentData,e=i&&i.brands.length>0&&$t(i.brands);return t||(t=()=>{}),!e||e<101?(t(),Promise.resolve()):i.getHighEntropyValues(["mobile","platformVersion","platform","fullVersionList","model","wow64"]).then(n=>{let r=navigator.userAgent,{mobile:s,fullVersionList:o}=n;e>=101&&(r=r.replace(/Chrome\/([\d.]+)/,`Chrome/${$t(o)}`));let a=null;return e>=107&&!s?a=Ji(n):e>=110&&s&&(a=Ki(n)),a&&(r=r.replace(/Mozilla\/5.0 \([\w\s.;\\/]+\)/,`Mozilla/5.0 (${a})`)),navigator.userAgent===r&&(r=null),t(r),r})};var kt=oe("session");function Xi(t,i){if(!t)return;let e='width="1" height="1" style="position:absolute;top:-9999px;left:-9999px;"';if(i==="pubmatic"){document.body.insertAdjacentHTML("beforeend",`<iframe src="${t}" title="iframe_cookie_sync" ${e}></iframe>`);return}document.body.insertAdjacentHTML("beforeend",`<img src="${t}" alt="" ${e}>`)}var Qi=(t,i)=>{let e="view",n=`${t}:${i}`;kt.set(e,n,60)},Zi=(t,i)=>{let e="view",n=`${t}:${i}`;return kt.get(e)===n},Nt=function(t,i){let e=t.site||t.service.service_name;t.z=String(Math.round(xe()*1e6));let n=`https://${ue()}`;n+=`/s/${encodeURIComponent(e)}/u/${encodeURIComponent(t.uid)}/${t.action}`;let r=We(t);if(delete r.service,delete r.sp_client,delete r.uid,delete r.action,delete r.site,delete r.csync,!(r.items&&r.items[0]&&r.items[0].c1&&we(r.items[0].c1))){if(t.action==="view"&&r.items&&r.items[0]&&r.items[0].id){if(Zi(e,r.items[0].id))return;Qi(e,r.items[0].id)}if(t.service.collect_visit_log_once_a_day&&t.action==="visit"){if(L("__dbl_v"))return;let s=new Date,o=(23-s.getHours())*60*60+(59-s.getMinutes())*60+(59-s.getSeconds());q("__dbl_v","1",o*1e3)}C(s=>{s&&(r.ua=s),D(n,r,o=>{o!=="OK"&&g(`[RECO-LOGGING API ERROR] FROM ${n}, ${o.result}`),i&&i()})}),Object.keys(t.csync||{}).forEach(s=>{s!=="nasmedia"&&t.csync[s]&&Xi(t.csync[s],s)})}};var Te=[];function I(t){return Ie(),Te.push(t),()=>tn(t)}function tn(t){let i=Te.indexOf(t);i>-1&&Te.splice(i,1)}var Lt=!1;function Ie(t){Lt||(Lt=!0,window.addEventListener("message",i=>{let e={};if(t?.filter&&!t.filter(i))return;if(typeof i?.data=="string"){let r="";try{r=decodeURIComponent(i.data)}catch{r=i.data}r&&!r.startsWith("&")&&(r=`&${r}`);let s=/&([\w_]+)(?:=(\[\{.*?\}\]|[^&]+)?)?/g,o;for(;o=s.exec(r);){let a=o[1],c=o[2];e[a]=c||""}}if(i.data&&B(i.data))for(let r of Object.keys(i.data)){let s=i.data[r];e[r]=s!=null?String(s):""}let n=r=>e[r]??null;for(let r of Te)r(n)},!1))}function W(t){return t?t.replace(/^([^:]+:\/\/[^/]+).*/,"$1"):null}function G(t,i){let e=t?.contentWindow||window.parent,n=W(t.src||t.getAttribute("data-org_src")||"");n&&e.postMessage(i,n)}function Wt(t){return Object.entries(t).sort(([i],[e])=>i>e?1:-1).map(([i,e])=>{switch(typeof e){case"function":return[i,e.toString()];case"object":return e===null||Array.isArray(e)?[i,e]:e instanceof Date?[i,e.toJSON()]:e.constructor===Object?[i,Wt(e)]:[i,e.toString()];default:return[i,e]}})}function nn(){let t=[];for(let i=0;i<256;i++){let e=i;for(let n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[i]=e<0?4294967295+e+1:e}return t}var rn=nn();function qe(t){let i=JSON.stringify(Wt(t)),e=4294967295;for(let n=0,r=i.length;n<r;n++){let s=(e^i.charCodeAt(n))&255;e=e>>>8^rn[s]}return e=e^4294967295,(e<0?4294967295+e+1:e).toString(16)}function on(t,i){if(typeof XMLHttpRequest=="function"){let e=new XMLHttpRequest;if("withCredentials"in e)return e.open(t,i,!0),e}return null}function Mt(t,i,e){let n=on("POST",t);return n?(n.onload=()=>{let r=n.responseText;if(e)return e(r)},n.onerror=()=>{},n.setRequestHeader&&n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),n.send(JSON.stringify(i)),n):(g("Your browser doesn't support CORS"),null)}function Ae(){try{return!!document.querySelectorAll}catch{return!1}}function an(t){if(!t)return"";let i=/^(https?:)?\/\/[^"'>]+$/.exec(t);if(i)return i[0];let e=t.match(/\ssrc=(["'])(\.{0,2}\/[^"]+)\1/),n=(e?e[1]:t).split("/"),r=location.pathname.split("/");return n[0]===""&&n[1]&&r.splice(1),n.forEach(s=>{if(!(!s||s===".")){if(s===".."){r.length>1&&r.pop();return}r.push(s)}}),`${location.protocol}//${location.host}${r.join("/")}`}function Ot(t){return t?t.replace(/\s+/g,"").replace(/<script.+?<\/script>/g,"").replace(/<[^>]*>/g,"").replace(/[^\d.]+/g,""):""}function cn(t){return t&&t.replace(/&amp;/g,"&").replace(/\butm_\w+=[^&]*/g,"").replace(/&+/g,"&").replace(/\?&/g,"?")}function y(t,i={}){if(!t||t.match(/\uFFFD/))return"";let e={amp:"&",lt:"<",gt:">",nbsp:" ",quot:'"',"#39":"'"};return t=t.replace(/&([a-z]+|#\d{2,3});/g,(n,r)=>e[r]||n).replace(/\s+/g," "),i.nocut?t:t.substr(0,Number(i.cut)||200)}var J=(()=>{let i=["og:title","dable:title","dable:item_id"].map(n=>`meta[property="${n}"],meta[name="${n}"]`).join(","),e=null;return()=>{if(e)return e;for(let n of[window,window.top,window.parent])try{if(n.document.querySelector(i)){e=n.document;break}}catch{}return e||(e=document),e}})();function p(t){t=Array.isArray(t)?t:[t];let i=J();for(let e=0;e<t.length;e++){let n=i.querySelector(`meta[property="${t[e]}"],meta[name="${t[e]}"]`);if(n)return n.getAttribute("content")||n.getAttribute("value")||""}return null}function ln(){let t=J().querySelector('link[rel="canonical"]');return t&&t.getAttribute("href")||""}function Bt(t){let i=J().getElementById(t);return i?i.innerText||i.textContent:null}function Ge(t){let i=J().querySelector(t);return i?i.innerText||i.textContent:null}function ae(){return J().querySelector('[itemprop="articleBody"],.__dable_article_body')}function Pe(){let t=Ae()?ae():null;return t?t.innerText||t.textContent:null}function Je(t){if(!Ae())return null;t||(t=["item_id","no_meta_update","url","title","image_url","price","author","currency","sale_price","sale_currency","availability","description","category1","category2","category3","custom1","custom2","custom3","custom4","custom5","published_time"]);let i={no_meta_update(){return y(p("dable:no_meta_update"))},item_id(){return y(p("dable:item_id"))},url(){let n=cn(p(["dable:url","og:url"])||ln());return n.substr(0,2)==="//"&&(n=window.location.protocol+n),n},title(){return y(Ge(".__dable_title")||p(["dable:title","og:title","title"])||document.title)},image_url(){let n=an(p(["dable:image","og:image","og:image:url"]));return n.substring(0,2)==="//"?window.location.protocol+n:n},price(){return Ot(Ge(".__dable_price")||p("product:price:amount"))},author(){return y(p(["product:brand","dable:author","article:author","author"]))||null},currency(){return y(p("product:price:currency"))},sale_price(){return Ot(p("product:sale_price:amount"))},sale_currency(){return y(p("product:sale_price:currency"))},availability(){let n=null,r=J().querySelector("[data-dable-availability]");return r&&r.getAttribute("data-dable-availability")!=="displaynone"&&(n="oos"),n||(n=Ge(".__dable_availability")&&"oos"||p("product:availability")||null),n},description(){return y(p(["dable:description","og:description"]))},article_source(){return y(Bt("article:source")||p(["article:source"]),{cut:64})},category1(){return y(p("dable:section")||Bt("article:section")||p(["article:section","product:category"]),{cut:64})},category2(){return y(p(["dable:section2","article:section2","product:category2"]),{cut:64})},category3(){return y(p(["dable:section3","article:section3","product:category3"]),{cut:64})},custom1(){return y(p("dable:custom1"))},custom2(){return y(p("dable:custom2"))},custom3(){return y(p("dable:custom3"))},custom4(){return y(p("dable:custom4"))},custom5(){return y(p("dable:custom5"))},comment_count(){return y(p("dable:comment_count"))},published_time(){return y(p(["dable:published_time","article:published_time"]))||null}},e={};for(let n=0;n<t.length;n++){let r=t[n];e[r]=i[r]()}return e}function K(t){return t||(t=["item_id","url","category1","category2","category3","comment_count"]),Je(t)}function Dt(t){if(t!=="view"||!/[&?]dable=/.test(window.location.href)||!Ae())return!1;let i=Je(["availability"]).availability;return i==="oos"||i==="out of stock"}function Ut(t,i,e){if(!Ae()||!i||!i.length||!i[0]||!i[0].id)return;let n=window.location.href,r=encodeURIComponent(t),s=String(i&&i[0]&&i[0].id),o=s?encodeURIComponent(s):"",a=(window.navigator&&window.navigator.userAgent||"").indexOf("IE")!==-1;return setTimeout(function(){let{is_update_article_body:c}=e,l=Je();if(!l||!l.title||l.no_meta_update==="true"||l.item_id&&s!==l.item_id||n!==window.location.href||we(l.title)||t==="superich.co.kr"&&!a)return;let f=`https://${k()}/items/services`;return f+=`/${r}/id`,f+=`/${o}/checksum`,D(f,{},function(m){let h=m&&m.result&&m.result.checksum,d=m&&m.result&&m.result.body_length;if(h==="BLOCKED")return;let w=l.url,b=l.description;delete l.url,delete l.description,delete l.no_meta_update,delete l.item_id;let u=qe(l);if(w&&(l.url=w),b&&(l.description=b),u!==h){let _=Pe();l.body_length=_&&_.length||0}if(f=`https://${k()}/items/services`,f+=`/${r}/id`,f+=`/${o}/update`,c){let _=Pe(),v=Number(_&&_.length)||0,wi=Math.abs(v-d)/(d||1);if(v>100&&wi>.1){if(Mt(f,{...l,articleBody:_}))return;delete l.articleBody}}u!==h&&C(_=>{_&&(l.ua=_),D(f,l)})})},5e3)}var U={};function X(t,i){return U[t]||(U[t]=[]),U[t].push(i),()=>{let e=U[t].indexOf(i);e!==-1&&U[t].splice(e,1)}}function V(t,i){if(!U[t]?.length)return!1;let e=typeof queueMicrotask=="function"?queueMicrotask:n=>setTimeout(n,0);for(let n of U[t])e(()=>n(i));return!0}var jt=[{path:/(www\.)?bing\.com\/search/,param:"q"},{path:"search.zum.com/search.zum",param:"query"},{path:/[.a-z]*search\.naver\.com\/search\.naver/,param:"query"},{path:/[.a-z]*search\.daum\.net\/search/,param:"q"}];function dn(t,i){let e=t.indexOf("?")<0?"":t.substring(t.indexOf("?")+1),r=new RegExp(`\\b${i}=([^&]*)`).exec(e)?.[1];if(typeof r!="string")return null;try{return decodeURIComponent(r)}catch{return null}}function un(t){for(let i=0;i<jt.length;i++){let e=jt[i];if(e.path instanceof RegExp&&e.path.test(t)||typeof e.path=="string"&&t.indexOf(e.path)>-1)return e}return null}function Ft(t){let i=un(t);return i&&dn(t,i.param)}var Ke=null,P=[];function fn(t,i){if(t.elapsedMilisec=t.elapsedMilisec+100,t.elapsedMilisec>=1e3)for(let e=0;e<P.length;e++){let n=P[e];if(!n)break;n.intervalId===t.intervalId&&(P.splice(e,1),t.callback(i),clearInterval(t.intervalId),t.isIntervalRegistered=!1)}}function mn(t,i,e,n){t.splice(n,1),i.callback(e)}function gn(t,i){t.exposeScrollY.top<=i&&i<=t.exposeScrollY.bottom?t.isStarted||(t.isStarted=!0,t.callback(i,"start")):t.isStarted&&(t.isStarted=!1,t.callback(i,"end"))}function pn(t,i){t.isIntervalRegistered=!0,t.intervalId=setInterval(fn.bind(null,t,i),100)}function hn(t){t.isIntervalRegistered=!1,clearInterval(t.intervalId),t.elapsedMilisec=0}function zt(){let t=R();for(let i=0;i<P.length;i++){let e=P[i];if(!e)break;if(e.callbackTriggerType==="offsetY"&&e.offsetY<=t){mn(P,e,t,i);continue}if(e.callbackTriggerType==="watching_area"&&e.callbackTiming==="start_and_end_once"){gn(e,t);continue}if(e.offsetY<=t&&t<=e.posEndY&&!e.isIntervalRegistered){pn(e,t);continue}e.isIntervalRegistered&&hn(e)}}function _n(){Ke&&clearTimeout(Ke),Ke=setTimeout(zt,100)}N(x(),"scroll",_n,he());var wn=function(t,i){let e=t.callbackTriggerType||"offsetY",n=t.callbackTiming,r=t.offsetY,s=t.isWatchWithTimer||!1,o=t.exposeScrollY||null;P.push({callbackTriggerType:e,callbackTiming:n,offsetY:r,isWatchWithTimer:s,exposeScrollY:o,elapsedMilisec:0,callback:i}),zt()};function bn(t){for(let i=0;i<P.length;i++){let e=P[i];if(e.callback===t){clearTimeout(e.intervalId),P.splice(i,1);break}}}function Yt(){try{return!!top.window.location.href}catch{return!1}}function Q(t){let i=t.targetElement,e=t.method,n=t.cb_trigger_type,r=t.cb_timing,s=t.offsetY||0,o=t.watching_top,a=t.watching_bottom,c=t.reregisterIntervalMs||null,l=t.isWatchWithTimer||!1,f=!1;function m(){f=!0,e.apply(null,arguments)}function h(d){if(f)return;d||bn(m);let w=A(i);if(w!==!1){let b=w-F().viewport+s,u=n==="watching_area"?{top:o-F().viewport,bottom:a}:null;wn({callbackTriggerType:n,callbackTiming:r,offsetY:b,isWatchWithTimer:l,exposeScrollY:u},m)}c&&setTimeout(h,c)}Yt()?h(!0):e(null)}function qt(t){if(!Yt())return!0;let i=t.targetElement,e=t.offsetY||0,n=R(),r=A(i);return r!==!1?r-F().viewport+e<=n:!1}var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$";function yn(t,i){if(t==null)return"";let e={dict:{},dictToCreate:{},wc:"",w:"",dataVal:0,dataPosition:0,enlargeIn:2,dictSize:3,numBits:2},n=[],r;for(let s=0;s<t.length;s+=1){let o=t.charAt(s);if(Object.prototype.hasOwnProperty.call(e.dict,o)||(e.dict[o]=e.dictSize++,e.dictToCreate[o]=!0),e.wc=e.w+o,Object.prototype.hasOwnProperty.call(e.dict,e.wc)){e.w=e.wc;continue}if(Object.prototype.hasOwnProperty.call(e.dictToCreate,e.w)){let a=e.w.charCodeAt(0);if(a<256){for(let c=0;c<e.numBits;c++)e.dataVal=e.dataVal<<1,e.dataPosition===i-1?(e.dataPosition=0,n.push(S.charAt(e.dataVal)),e.dataVal=0):e.dataPosition++;r=a;for(let c=0;c<8;c++)e.dataVal=e.dataVal<<1|r&1,e.dataPosition===i-1?(e.dataPosition=0,n.push(S.charAt(e.dataVal)),e.dataVal=0):e.dataPosition++,r=r>>1}else{r=1;for(let c=0;c<e.numBits;c++,r=0)e.dataVal=e.dataVal<<1|r,e.dataPosition===i-1?(e.dataPosition=0,n.push(S.charAt(e.dataVal)),e.dataVal=0):e.dataPosition++;r=e.w.charCodeAt(0);for(let c=0;c<16;c++,r=r>>1)e.dataVal=e.dataVal<<1|r&1,e.dataPosition===i-1?(e.dataPosition=0,n.push(S.charAt(e.dataVal)),e.dataVal=0):e.dataPosition++}--e.enlargeIn===0&&(e.enlargeIn=Math.pow(2,e.numBits++)),delete e.dictToCreate[e.w]}else{r=e.dict[e.w];for(let a=0;a<e.numBits;a++,r=r>>1)e.dataVal=e.dataVal<<1|r&1,e.dataPosition===i-1?(e.dataPosition=0,n.push(S.charAt(e.dataVal)),e.dataVal=0):e.dataPosition++}--e.enlargeIn===0&&(e.enlargeIn=Math.pow(2,e.numBits++)),e.dict[e.wc]=e.dictSize++,e.w=o}if(e.w!==""){if(Object.prototype.hasOwnProperty.call(e.dictToCreate,e.w)){let s=e.w.charCodeAt(0);if(s<256){for(let o=0;o<e.numBits;o++)e.dataVal=e.dataVal<<1,e.dataPosition===i-1?(e.dataPosition=0,n.push(S.charAt(e.dataVal)),e.dataVal=0):e.dataPosition++;r=s;for(let o=0;o<8;o++,r=r>>1)e.dataVal=e.dataVal<<1|r&1,e.dataPosition===i-1?(e.dataPosition=0,n.push(S.charAt(e.dataVal)),e.dataVal=0):e.dataPosition++}else{r=1;for(let o=0;o<e.numBits;o++,r=0)e.dataVal=e.dataVal<<1|r,e.dataPosition===i-1?(e.dataPosition=0,n.push(S.charAt(e.dataVal)),e.dataVal=0):e.dataPosition++;r=s;for(let o=0;o<16;o++,r=r>>1)e.dataVal=e.dataVal<<1|r&1,e.dataPosition===i-1?(e.dataPosition=0,n.push(S.charAt(e.dataVal)),e.dataVal=0):e.dataPosition++}--e.enlargeIn===0&&(e.enlargeIn=Math.pow(2,e.numBits++)),delete e.dictToCreate[e.w]}else{r=e.dict[e.w];for(let s=0;s<e.numBits;s++,r=r>>1)e.dataVal=e.dataVal<<1|r&1,e.dataPosition===i-1?(e.dataPosition=0,n.push(S.charAt(e.dataVal)),e.dataVal=0):e.dataPosition++}--e.enlargeIn===0&&(e.enlargeIn=Math.pow(2,e.numBits++))}r=2;for(let s=0;s<e.numBits;s++,r=r>>1)e.dataVal=e.dataVal<<1|r&1,e.dataPosition===i-1?(e.dataPosition=0,n.push(S.charAt(e.dataVal)),e.dataVal=0):e.dataPosition++;do{if(e.dataVal=e.dataVal<<1,e.dataPosition===i-1){n.push(S.charAt(e.dataVal));break}e.dataPosition++}while(!0);return n.join("")}function Jt(t){return yn(t,6)}function Xe(t,i){if(!t.contentWindow)return;let e=j(t),n=e?e.x:0,r=e?e.y:0;G(t,`${i}=${n},${r}`)}var Yr=(()=>{let t=new Set,i=new Set;return new IntersectionObserver(n=>{for(let r of n){let s=r.target;if(r.isIntersecting&&!t.has(s)&&(t.add(s),Xe(s,"exposure_start")),!r.isIntersecting&&t.has(s)&&(t.delete(s),i.delete(s),Xe(s,"exposure_end")),i.has(s))continue;r.isIntersecting&&r.boundingClientRect.height>=1&&(r.intersectionRatio>=.5||r.intersectionRect.height>=200)&&(Xe(s,"expose"),i.add(s))}},{root:null,threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})})();function Z(t){return t==null}var Qe={},Ze={},et={};function Kt(t,i){if(Z(i)||!i.enabled)return;let e=document.getElementById(t);if(Z(e)||e.getAttribute("data-dable-floating")==="1")return;e.setAttribute("data-dable-floating","1"),e.style.width=`${i.width}px`,e.style.position="fixed",e.style.zIndex="99999999";let n=["top","bottom"].some(l=>l===i.appear),r=`${i.vmargin??0}px`,s=`${i.hmargin??0}px`,o=`-${Number(i.width)+50}px`;switch(i.position){case"bottomright":e.style.bottom=r,e.style.right=n?o:s,e.style.transition="0.3s ease-in";break;case"bottomleft":e.style.bottom=r,e.style.left=n?o:s,e.style.transition="0.3s ease-in";break;case"bottomcenter":o="9999px",e.style.left="50%",e.style.bottom=r,e.style.marginLeft=n?o:`-${i.width/2}px`;break;case"topright":e.style.top=r,e.style.right=n?o:s,e.style.transition="0.3s ease-in";break;case"topleft":e.style.top=r,e.style.left=n?o:s,e.style.transition="0.3s ease-in";break;case"topcenter":o="9999px",e.style.left="50%",e.style.top=r,e.style.marginLeft=n?o:`-${i.width/2}px`;break}if(n){let l=function(d){if(!(Z(e)||Z(i)))if(d)switch(i.position){case"bottomright":case"topright":e.style.right=s;break;case"bottomleft":case"topleft":e.style.left=s;break;case"bottomcenter":case"topcenter":e.style.marginLeft=s;break}else switch(i.position){case"bottomright":case"topright":e.style.right=o;break;case"bottomleft":case"topleft":e.style.left=o;break;case"bottomcenter":case"topcenter":e.style.marginLeft=o;break}},m=function(){let d=!1,w=et[t],b=R(),u=F();i.appear==="top"&&["topright","topleft"].some(_=>_===i.position)?(d=i.appear_px<=b,d=i.appear_px<=b):i.appear==="top"?d=i.appear_px<=b+u.viewport:(i.appear==="bottom"&&["bottomright","bottomleft"].some(_=>_===i.position)||i.appear==="bottom")&&(d=i.appear_px>=u.window-u.viewport-b),d!==w&&(l(d),et[t]=d),Ze[t]=null};var a=l,c=m;if(e.getElementsByTagName("i").length===0){let d=document.createElement("i");d.style.position="absolute",d.style.top="-7px",d.style.right="-7px",d.style.width="16px",d.style.height="16px",d.style.margin="0px",d.style.padding="0px",d.style.border="0px",d.style.background="url(https://api.dable.io/static/i/x.png) no-repeat 0 0",d.style.cursor="pointer",d.onclick=()=>{l(!1),setTimeout(()=>{e.style.display="none"},200)},e.appendChild(d)}let f=Qe[t];if(!Z(f)){let d=x();O(d,"scroll",f)}Qe[t]=()=>{let d=Ze[t];d!=null&&clearTimeout(d),Ze[t]=setTimeout(m,100)};let h=x();N(h,"scroll",Qe[t]),et[t]=null,m()}}var Xt=["img","iframe","figure"],xn=150;function Re({element:t,t:i,minArticleLength:e}){i===void 0&&(i=""),i+=t?.innerHTML?.toLowerCase()||t.textContent;let n=Xt.some(r=>i.indexOf(`<${r}`)>-1);return i=i.replace(/<(script|style)[\s\S]+?<\/\1>/gi,""),Xt.forEach(r=>{i=i.replace(new RegExp(`<${r}(.|[\r
])*`),"")}),i=i.replace(/<[^<>]+>/g,"").trim(),i.length>(e||xn)?!0:i.length&&!n&&t&&t.nextSibling?Re({element:t.nextSibling,t:i,minArticleLength:e}):!1}function Qt(t){return Array.prototype.slice.call(t.childNodes||[]).filter(e=>e.nodeType===8?!1:!(e.nodeType===3&&!e.textContent.trim()))}function En({element:t,length:i,posRate:e,minArticleLength:n}){let r=Math.floor(i*e/100)-1;r<1&&(r=i-1);let s=Qt(t);if(Re({element:s[r],minArticleLength:n}))return s[r];let o=0;for(;o++<i;){let a;if(r+o<i&&(a=s[r+o],a&&Re({element:a,minArticleLength:n}))||r-o>=0&&(a=s[r-o],a&&Re({element:a,minArticleLength:n})))return a}return!1}function Zt(t,{posRate:i,minArticleLength:e}){if(!t?.childNodes?.length)return null;let n=Qt(t).length,r=t.children.length;if(n<=3&&r===1)return Zt(t.children[0],{posRate:i,minArticleLength:e});let s=En({element:t,length:n,posRate:i,minArticleLength:e});if(!s)return!1;let o=document.createElement("div");o.className="dable_placeholder";let a=document.createElement("style"),c=`
    @media all and (min-width: 1px) and (max-width: 450px) {     .dable_placeholder{ width: 100% !important; padding: 10px 0 !important; }}
  `;return a.innerText=c,o.appendChild(a),t.insertBefore(o,s),o}function ei(t,{enabled:i,float:e,width:n,pos_rate:r=50,min_article_length:s}){if(!i)return;let o=ae();if(!o)return;let a=document.getElementById(t),c=o.querySelector(".dable_placeholder");if(c||(c=Zt(o,{posRate:r,minArticleLength:s})),!c)return;e==="left"?(c.style.float=e,c.style.padding="10px 15px 10px 0"):e==="right"?(c.style.float=e,c.style.padding="10px 0 10px 15px"):(c.style.margin="0 auto",c.style.padding="10px 0"),c.style.width=n+"%";let l=a.getElementsByTagName("iframe")[0],f=!l.src,m=null;if(f){let h=document.querySelector("form[data-dable_widget_el_id]");if(h.getAttribute("data-dable_widget_el_id")){m=h;let w=document.createElement("input");w.setAttribute("type","hidden"),w.setAttribute("name","inarticle_init"),w.setAttribute("value","1"),m.appendChild(w)}}else{if(l.src.indexOf("&inarticle_init=1")>-1)return;l.src=l.src+"&inarticle_init=1"}a.parentNode.removeChild(a),c.appendChild(a),m?.submit()}function Tn(t){if(!t.contentWindow)return;let i=t.getAttribute("src")||t.getAttribute("data-org_src")||"",e=W(i)||"";t.contentWindow.postMessage("load_infinite_feed",e)}function ti(t,i){let e=document.getElementById(t)?.querySelector("iframe");if(!e)return;let n=e.nextElementSibling||document.createElement("div");n.parentNode||(n.style.height="1px",n.className="dable-infinite-bottom",e.insertAdjacentElement("afterend",n));let r=0;new IntersectionObserver(o=>{o.forEach(a=>{a.isIntersecting&&(i===-1||r<i)&&(Tn(e),r++)})},{root:null,rootMargin:"0px 0px 200px 0px",threshold:0}).observe(n)}function ii(t,i){let e=document.getElementById(t),n=r=>{let s=Array.from(document.getElementsByTagName("iframe"));for(let o of s){let a=o.getAttribute("src")||o.getAttribute("data-org_src");if(!a||a.indexOf("dable")===-1||a.indexOf(t)===-1)continue;let c=W(a);c&&(o.contentWindow||parent).postMessage(r,c)}};window.addEventListener("scroll",()=>{if(!e)return;let r=window.innerHeight,{top:s,bottom:o}=e.getBoundingClientRect(),a={type:i,top:s,wh:r};s<r&&o>0&&n(JSON.stringify(a))})}var ni=!1,ee={},$e={};function An(t){if(t.getAttribute("dable-slided"))return;t.setAttribute("dable-slided","1"),t.className=t.className.replace(" dable-secret-hidden",""),t.style.maxHeight="1200px";let i=t.getElementsByTagName("iframe")[0];i?.contentWindow&&i.contentWindow.postMessage("show_secret_widget",W(i.getAttribute("src")||i.getAttribute("data-org_src")))}function Rn(t){for(t=t.parentNode;t;){if(t.getAttribute("itemprop")==="articleBody")return A(t);t=t.parentNode}return 0}function ri(t,{enabled:i=!1,for_article:e=!1,top_offset:n=0}){let r=document.getElementById(t),s=`sliding${t}`;if(!i)return r.style.overflow="visible",!1;if(ni||(dt("      .dable-secret-hidden{height:0!important}       .dable-secret-hidden iframe{position:absolute;top:-9999px;left:-9999px}    "),ni=!0),r.getAttribute("data-dable-sliding")==="1")return!0;r.setAttribute("data-dable-sliding","1"),r.className+=" dable-secret-hidden",r.style.overflow="hidden",r.style.maxHeight="0px",r.style.transition="max-height 1s";let o=e?Rn(r):0;ee[s]&&O(x(),"scroll",ee[s]);let a=!1;function c(){let l=R();!a&&l>o+300&&(a=!0),a&&l<=Number(o+n)&&(An(r),O(x(),"scroll",ee[s])),$e[s]=null}return ee[s]=function(){$e[s]&&clearTimeout($e[s]),$e[s]=setTimeout(c,100)},N(x(),"scroll",ee[s]),setInterval(ee[s],5e3),c(),!0}var kn=2e3,oi=["width","height","widget_id","passback_url","passback_height"];function Nn(t,i,e){let n=document.createElement("form");n.setAttribute("method","POST"),n.setAttribute("action",t),n.setAttribute("target",e),n.setAttribute("data-dable_widget_el_id",i.id),Object.keys(i).forEach(r=>{let s=i[r]===null?null:Y(i[r]),o=oi.some(a=>a===r);s===null||o||s.forEach(a=>{let c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name",r),c.setAttribute("value",a&&typeof a=="object"?JSON.stringify(a):a),n.appendChild(c)})}),document.body.appendChild(n),n.submit()}function Ln(t,i,e,n){let{passback_url:r,passback_height:s}=n;setTimeout(()=>{if(t.getAttribute("data-ready")==="1")return;let o=document.createElement("iframe");o.allowTransparency="true",o.width=i,o.height=s||e,o.title="\uCD94\uCC9C \uC544\uC774\uD15C",o.style.border=0,o.frameBorder="0",o.scrolling="no",o.src=r,t.parentNode.appendChild(o),t.parentNode.removeChild(t),o.parentNode.style.height="auto"},n.passback_timeout||3e3)}function Cn(t,i,e,n,r){let s=window.location.href.match(/[?&]dable=([^#&]+)/)?.[1];s&&(r.method=s),r.client_width=t.clientWidth,r.network=ct()?"wifi":"non-wifi",r.lang=yt();let o=R(),a=A(t);o+1500>a&&(r.pre_expose=1),window===window.top&&(r.is_top_win=1);try{top.location.href===window.location.href&&(r.top_win_accessible=1)}catch{}let c=document.createElement("iframe");c.allowTransparency="true",c.width=e,c.height=n,c.title="\uCD94\uCC9C \uC544\uC774\uD15C",c.style.border=0,c.frameBorder="0",c.scrolling="no",c.name=`dableframe-${Fe()}`,t.style.height=`${n}px`,t.style.overflow="hidden",t.innerHTML="",t.appendChild(c);let l=!1,f=r.lazyload_widget_ids;typeof f=="string"&&(f=JSON.parse(f)),f?.length>0&&(l=f.indexOf(r.widget_id)>-1),r.is_lazyload=0,l&&r.pre_expose!==1&&(lt("https://static.dable.io/dist/lazysizes.min.js"),c.className="lazyload",r.is_lazyload=1);function m(){let h=Object.keys(r).map(b=>{let u=r[b]===null?null:Y(r[b]),_=oi.some(v=>v===b);if(!(u===null||_))return u.map(v=>(typeof v=="object"&&(v=JSON.stringify(v)),`${encodeURIComponent(b)}=${encodeURIComponent(v)}`)).join("&")}).filter(Boolean).join("&"),d={site:r.site,url:r.url,ref:r.ref,lang:r.lang,uid:r.uid,cid:r.cid,service:{service_name:r.site,service_type:r.service_type,service_id:r.service_id},action:"widget_request",widget_id:r.widget_id,source:r.item_id||"",randomStr:r.randomStr,gdpr:r.gdpr};r.mid&&(d.mid=r.mid),r.consent&&(d.consent=r.consent),r.ua&&(d.ua=r.ua);let w=()=>{r.passback_url&&(mt.includes(r.widget_id)&&(r.passback_timeout=5e3),Ln(c,e,n,r)),h.length<=kn?c.src=`${i}?${h}`:(Nn(i,r,c.name),c.setAttribute("data-org_src",i))};if(r.is_lazyload===1){c.parentNode.getBoundingClientRect().height===0&&(c.parentNode.style.height="1px");let u=new IntersectionObserver(_=>{_[0].isIntersecting&&(w(),u.disconnect())},{rootMargin:"800px"});u.observe(c.parentNode)}else w()}m()}function ke(t){return document.getElementById(t)?.querySelector("iframe")||document.querySelector('iframe[src*="/widgets/id/"]')}function Wn(t,i){let e=ke(t);e&&(e.height=i);let n=document.getElementById(t);n&&(n.style.height="auto")}function Mn(t,i){let e=ke(t);e&&(e.title=i)}function On(t){let i=ke(t);i.setAttribute("data-ready","1");let e=o=>{if(!i.contentWindow)return;let a=j(i),c=a?.x||0,l=a?.y||0;G(i,`${o}=${c},${l}`)},n=()=>H.theme||"auto",r=o=>{try{i.contentWindow&&i.contentWindow.postMessage({type:"theme",mode:o},"*")}catch(a){g("Failed to send theme message to widget:",a)}},s=n();r(s),X("theme",o=>{r(o)}),Q({targetElement:i.parentNode,method(o){o!==null&&e("expose")},cb_trigger_type:"offsetY",offsetY:Math.min(200,i.clientHeight||200),reregisterIntervalMs:se({min:5e3,max:5500})}),Q({targetElement:i.parentNode,method(o,a){o!==null&&(a==="start"&&e("exposure_start"),a==="end"&&e("exposure_end"))},cb_trigger_type:"watching_area",cb_timing:"start_and_end_once",watching_top:A(i.parentNode),watching_bottom:A(i.parentNode)+ie(i.parentNode),reregisterIntervalMs:se({min:5e3,max:5500})}),Q({targetElement:i.parentNode,method(){e("pre_expose")},cb_trigger_type:"offsetY",offsetY:-1e3,reregisterIntervalMs:se({min:5e3,max:5500}),isWatchWithTimer:!1})}var H={};X("service_name",t=>{H.service_name=t});X("item_ids",t=>{H.item_ids=t});X("qterm",t=>{H.qterm=t});X("theme",t=>{H.theme=t});var si={},ce=class{constructor(i){let{dom_id:e,cid:n,uid:r,item_ids:s,item_pub_date:o,callback:a}=i,c=i.options||{};if(!e){g("dom id is required but empty");return}this.cid=n,this.uid=r,this.widget_render_tried=0,this.fetchWidgetPrefs(e,c,(l,f)=>{si[e]={item_ids:s,loaded_callback:a},this.renderWidget(e,l,f,s,o)})}fetchWidgetPrefs(i,e,n){let r={},s=document.getElementById(i);e=e||{};let o=(l,f={})=>{let{cut:m,compress:h}=f,d=f.defaultValue;l in e?d=e[l]:fe(s,`data-${l}`)&&(d=fe(s,`data-${l}`)),d&&(h?r[`${l}_lz`]=Jt(d):r[l]=m?d.substr(0,m):d)};s&&o("widget_id");let a=e.service_name||H.service_name;if(!s||!a&&!r.widget_id){setTimeout(()=>{if(++this.widget_render_tried>10){g(`renderWidget found no DOM for this ID selector : ${i}`);return}this.fetchWidgetPrefs(i,e,n)},50);return}r.from=window.location.href,r.url=e.url||window.location.href,r.ref=e.ref||pe(),r.cid=this.cid,r.uid=this.uid,e.mid&&(r.mid=e.mid),r.passback_url=e.passback_url,r.passback_height=e.passback_height,a&&(r.site=a),r.gdpr=e.gdpr,e.consent&&(r.consent=e.consent),r.service_id=e.service_id,r.service_type=e.service_type,r.country=e.country,r.client_id=e.client_id,r.lazyload_widget_ids=e.lazyload_widget_ids||[],r.randomStr=e.randomStr,e.test&&(r.test=1),e.shows_preview_slot_index&&(r.shows_preview_slot_index=1),e.option_json&&(r.option_json=e.option_json),e.ad_info&&(r.ad_info=JSON.stringify(e.ad_info)),r.id=i,o("width",{defaultValue:"100%"}),o("height",{defaultValue:"0"}),o("ad_position"),o("widget_type1"),o("widget_type2"),o("widget_type3"),o("has_outline"),o("text_align"),o("title_type"),o("title_type1"),o("title_type2"),o("title_type3"),o("title_img"),o("title_img1"),o("title_img2"),o("title_img3"),o("title_text",{compress:!0}),o("title_text1",{compress:!0}),o("title_text2",{compress:!0}),o("title_text3",{compress:!0}),o("title_size"),o("title_size1"),o("title_size2"),o("title_size3"),o("has_thumbnail"),o("page_count"),o("type"),o("item_count"),o("item_size"),o("row_count"),o("line_color"),o("item_color"),o("price_color"),o("price_size"),o("has_price"),o("published_time_color"),o("published_time_size"),o("published_time_format"),o("has_published_time"),o("random"),o("channel_prefix"),o("channel"),o("infinite_scroll"),o("autoswipe_seconds"),o("promotions"),o("floating"),o("sliding"),o("inarticle"),o("custom_css"),o("has_dable_logo"),o("abtest_index"),o("nolink"),o("item_props_order"),o("ad_campaign_id"),o("ad_request_id"),o("dedicated_id"),o("imp_id"),o("ad_content_id"),o("ad_response_method"),o("dsp_method_version"),o("additional_ad_clicklog"),o("ad_clicklog"),o("opt_out"),o("inventory_id"),o("adx_request_id"),o("use_banner_server",{defaultValue:!1}),o("dable_creative_id"),o("banner_channel_name"),o("encrypted_bid_price"),o("encrypted_bid_ext"),o("bid_currency"),o("source");let c=K(["category1","category2","category3","author","article_source"]);c.category1&&(r.category1=c.category1),c.category2&&(r.category2=c.category2),c.category3&&(r.category3=c.category3),c.author&&(r.author=c.author),c.article_source&&(r.article_source=c.article_source),e.ad_alias_service_id&&(r.ad_alias_service_id=e.ad_alias_service_id),o("best_type"),o("category_level"),o("category1",{cut:64}),o("category2",{cut:64}),o("category3",{cut:64}),o("iframe-src"),o("iframe-width"),o("iframe-height"),o("ad_mark_test"),o("top_win_href"),o("is_gdpr"),o("gdpr_purposes"),n(s,r)}fetchWidgetItems(i,e,n,r){if(e=e||fe(i,"data-item_id")||H.item_ids||null,typeof n!="boolean"&&(n=!0),!e&&n){setTimeout(()=>{typeof n=="number"&&n--,this.fetchWidgetItems(i,e,n,r)},200);return}Array.isArray(e)||(e=[e]),r(e)}renderWidget(i,e,n,r,s){this.fetchWidgetItems(e,r,!1,o=>{let a;if(o.length>1&&(o=[o[se({min:0,max:o.length-1})]]),n.item_id=o[0],s&&(n.item_pub_date=s),M("dable_campaign_id")?(n.test_campaign_id=M("dable_campaign_id"),n.nolog=1):M("dable_content_id")&&(n.test_content_id=M("dable_content_id"),n.nolog=1),M("dable_noad")&&(n.nodablead=M("dable_noad")),n.use_banner_server)a=`https://${at()}/widgets/id/${n.widget_id}${n.uid&&`/users/${n.uid}`||""}`;else if(n.widget_id)a=`https://${k()}/widgets/id/${n.widget_id}${n.uid&&`/users/${n.uid}`||""}`;else if(n.site)a=`https://${k()}/widgets/services/${encodeURIComponent(n.site)}${n.uid&&`/users/${n.uid}`||""}`;else{g("one of widget_id or service_name is required but empty");return}n.pixel_ratio=window.devicePixelRatio||1,C(c=>{c&&(n.ua=c),Cn(e,a,n.width,n.height,n)})})}};I(t=>{let i,e=t("id");if(!e)return;let n=ke(e),r=n?.contentWindow;if(t("init")!==null&&On(e),t("check_and_page_expose")==="1"&&r&&qt({targetElement:n.parentNode,offsetY:200})){let o=t("page");G(n,`page_expose=${o}`)}if(t("block_content")&&r){let s=t("block_content");G(n,`block_content=${s}`)}if(t("floating")!==null)try{let s=JSON.parse(t("floating"));Kt(e,s)}catch{}if(t("sliding")!==null)try{let s=JSON.parse(t("sliding"));ri(e,s)}catch{}if(t("is_infinite_feed")!==null&&t("floating")===null&&ti(e,Number(t("infinite_feed_scroll_amount"))||-1),t("if_height")){let s=Number(t("if_height"));!isNaN(s)&&s>0&&Wn(e,s)}if(t("init_inarticle")&&ei(e,JSON.parse(t("init_inarticle"))),t("error")){g(t("error"));return}if(t("title")&&Mn(e,t("title")),t("has_recom")!==null&&si[e]?.loaded_callback?.(t("has_recom")==="1"),t("close_dable_widget")!==null&&e){let s=document.getElementById(e);s&&ye(s.childNodes).forEach(o=>{o.style.display="none"})}t("scrollDetect")!==null&&ii(e,t("type"))});var li="dable_uid",Bn=2*365*24*60*60*1e3,ai="00000000.0000000000000",tt=pe(),Ne=window.top!==window.self;function ci(){let t=L(li);return/[?&]dable_uid=([^#&]+)/.exec(window.location.search)?.[1]||t!=="undefined"&&t||""}function Dn(t,i){return t=He(Y(t),10),t.filter(e=>{let n=typeof e=="object"?e.id:e;return n&&(typeof n=="number"||typeof n=="string")}).map(e=>{let n=typeof e=="object"?e:{id:e};return n.category1&&(n.c1=n.category1,delete n.category1),n.category2&&(n.c2=n.category2,delete n.category2),n.category3&&(n.c3=n.category3,delete n.category3),E({},{...n,is_hidden:Dt(i)?1:void 0})})}function Un(t,i){let e=Date.now(),n=encodeURIComponent(i.service.service_name),r=encodeURIComponent(i.uid),s=()=>{let o=E({},i,{sess_dur_sec:(Date.now()-e)/1e3|0,body_height:ie(t)|0,body_length:Pe()?.length|0}),a=`https://${ue()}/s/${n}/u/${r}/read`;C(c=>{c&&(o.ua=c),D(a,o,l=>{l!=="OK"&&g(`[RECO-LOGGING API ERROR] FROM ${a}, ${l}`)})})};new Promise(o=>{if(document.readyState==="complete"){o();return}window.addEventListener("DOMContentLoaded",o,!1)}).then(()=>{let o=!1;Q({targetElement:t,method:()=>{o||s(),o=!0},offsetY:Math.max(ie(t)-300,300),registerIntervalMs:5e3+(Math.random()*500|0)})})}var it={},le=class{serviceName=void 0;uid="";referrer="";logSent={};constructor(){this.service=this.setService,this.widget=this.renderWidget,Ie({filter:i=>!i.origin||/localhost|dable\.io/.test(i.origin)}),I(i=>{let e=i("canonical_url");e&&(this.url=e)}),Ne&&I(i=>{let e=i("dable_item_id");e&&(this.itemIds=[e])}),window.top.postMessage({channel:"dable",type:"request-canonical-url"},"*"),Ne&&window.top.postMessage({channel:"dable",type:"request-item-id"},"*")}fetchPrefs(i=()=>{}){if(!this.serviceName)return new Promise(n=>setTimeout(n,100)).then(()=>this.fetchPrefs(i));let e={serviceName:this.serviceName,uid:ci()};return this.cid&&(e.cid=this.cid),Ye(e).then(n=>(i(n),q(li,n.cid,Bn),n.service?.custom_script_url&&Me(n.service.custom_script_url),n))}c(i){this.payloadCrypted=i}setHttpsOnly(){}setScrollBaseElement(i){st(i)}setCookieDoc(i){window.COOKIE_DOCUMENT=i}setCID(i){this.cid=i,this.fetchPrefs()}setUID(i){this.uid=i}setMID(i){this.mid=i}setRef(i){this.ref=i}setURL(i){this.url=i}setService(i){let e=(i||"").replace(/\/*$/,"").toLowerCase();if(!e){g(`Unknown SERVICE: ${i}`);return}this.serviceName=e,V("service_name",e),this.initPushServiceWorker()}setServiceByWidth(i,e){if(i&&e===void 0){g("setServiceByWidth requires two service names");return}Ce()?this.setService(e):this.setService(i)}setGender(i){this.setUserInfo({gender:i})}setBirthYear(i){this.setUserInfo({birthyear:i})}setUserInfo(i,e){let n={};if(i&&(B(i)&&E(n,i),typeof i=="string"&&e!==void 0&&(n[i]=e),n.mid&&(this.mid=n.mid),n.uid&&(this.uid=n.uid),n.gender&&/^[mfo]$/i.test(n.gender)&&(this.gender=n.gender),n.birthyear)){let r=Number(n.birthyear);r&&r>=1900&&r<=new Date().getFullYear()&&(this.birthyear=r)}}setTheme(i){let e=(i||"").toLowerCase();if(!e||!["light","dark","auto"].includes(e)){g(`Invalid theme: ${i}. Use 'light', 'dark', or 'auto'.`);return}this.theme=e,V("theme",e)}fetchService(i){return i&&i(this.serviceName),Promise.resolve(this.serviceName)}fetchUID(i,e){return i||(i=()=>{}),this.uid?(i(this.uid),Promise.resolve(this.uid)):(e||this.fetchPrefs()).then(n=>{let r=n.cid;return r||(r=`${Math.round(xe()*9e7)+1e7}.${Date.now()}`),i(r),r})}fetchUserGroup(i){this.fetchUID(e=>{i(Math.floor(e%10)||null)})}async requestPageInfo(){return new Promise((i,e)=>{let n=setTimeout(()=>{i()},3e3);I(s=>{let o=s("type"),a=s("referrer"),c=s("url");if(o==="page_info"&&(a||c)){if(a&&(this.ref=Be(a)),c){this.url=c;let l=Oe(c);l&&(this.ref=l)}clearTimeout(n),i()}}),window.top.postMessage({channel:"dable",type:"request-page-info"},"*")})}async sendLog(i,...e){return this.serviceName?new Promise(n=>{let r={action:i,site:this.serviceName,url:this.url||window.location.href,ref:this.ref||tt,lang:z()};Ne&&!this.ref?this.requestPageInfo().then(()=>{let s={action:i,site:this.serviceName,url:this.url||window.location.href,ref:this.ref||tt,lang:z()};n(s)}).catch(()=>{n(r)}):n(r)}).then(n=>{if(!this.serviceName)return new Promise(o=>setTimeout(o,100)).then(()=>this.sendLog.apply(this,[i].concat(e)));i||(i="");let r=[];(i==="like"||i==="view")&&(r=Dn(e,i),r.length>0&&V("item_ids",r.map(o=>o.id))),E(n,{mid:this.mid||void 0,gender:this.gender||void 0,birthyear:this.birthyear||void 0,c:this.payloadCrypted||void 0});let s=()=>new Promise(o=>{let a=Date.now(),c=()=>{let l=K()||{};if(l.item_id){o(E({},{id:l.item_id,c1:l.category1||void 0,c2:l.category2||void 0,c3:l.category3||void 0,comment_count:l.comment_count||void 0,link:l.url||void 0}));return}if(Date.now()-a>300){o(null);return}setTimeout(c,100)};c()});return this.actionType=i||"auto",this.items=r,new Promise(o=>{let a={};switch(i){case"visit":n.action="visit",o();return;case"like":n.items=r,n.action=r.length>0?"like":"visit",o();return;case"search":n.q=(e[0]||"")&&encodeURIComponent(e[0]),n.q&&V("qterm",n.q),n.action=n.q?"search":"visit",o();return;case"view":a=K(),n.items=r.map(c=>E(c,{c1:c.c1||a.category1||void 0,c2:c.c2||a.category2||void 0,c3:c.c3||a.category3||void 0,comment_count:c.comment_count||a.comment_count||void 0,link:a.url||this.url||void 0})),n.action=r.length>0?"view":"visit",n.action==="view"&&E(n,{push_message_id:ge(n.url)}),o();return;default:s().then(c=>{if(!c){n.action="visit";return}V("item_ids",[c]),n.action="view",n.items=[c],E(n,{push_message_id:ge(n.url)})}).then(o)}}).then(()=>this.fetchPrefs()).then(o=>{let a=Ft(tt);return o.consent&&!o.is_reco_logging_consented?Promise.resolve([a,o,ai]):this.fetchUID().then(l=>[a,o,l])}).then(([o,a,c])=>{let l=!1;if(o&&(n.q=encodeURIComponent(o),V("qterm",n.q)),!a.service)throw new Error(`Unknown service: ${this.serviceName}`);l=a.service.collect_article_body_on_client===!0;let f=Object.keys(a).reduce((m,h)=>{let d=h.match(/^(\w+)_log_url$/);if(d){let w=d[1];m[w]=a[h]}return m},{});E(n,{uid:c,cid:a.cid,service:a.service,sp_client:a.sp_client,csync:f,gdpr:a.gdpr,consent:a.consent||void 0}),Nt(n,()=>{if(n.action!=="view")return;let m=ae();m&&Un(m,n),Ut(this.serviceName,n.items,{is_update_article_body:l})})}).then(null,o=>{g(o)})}):new Promise(n=>setTimeout(n,100)).then(()=>this.sendLog.apply(this,[i].concat(e)))}sendLogOnce(i,...e){if(i=i||"auto",!this.logSent[i])return this.logSent[i]=!0,e.unshift(i),this.sendLog.apply(this,e)}renderWidget(i,e,n,r){let s=ve(i),o=(typeof i=="string"?i:s?.id)||`_dblwdgt_${Math.floor(Math.random()*99999999)}`;s&&(s.id=o);let a=[e,n,r];if(r===void 0&&typeof n=="function"&&(r=a[1]),B(e)&&(e=null,n=a[0]),e=e&&Y(e),it[o]===void 0&&(it[o]=5),!s){if(--it[o]>=0)return new Promise(u=>setTimeout(u,100)).then(()=>this.renderWidget(i,e,n,r));g(`[ERROR] Cannot find element: #${o}`);return}if(!s.getAttribute("data-widget_id")){let u=/^dablewidget_([a-z\d]+)$/i.exec(o)?.[1];if(!u){g(`[ERROR] No Widget ID found: #${o}`);return}s.setAttribute("data-widget_id",u)}let c=n?.ignore_items||n?.ignoreItems,l=ci(),f={dom_id:o,uid:this.uid||l,cid:this.cid||l,item_pub_date:null,callback:r},m=n?.orgServiceId||s.getAttribute("data-org-service-id");n=E({},n,{service_name:n?.service_name||this.serviceName||void 0,url:this.url||void 0,ref:this.ref||void 0,mid:this.mid||void 0,randomStr:he(),ad_alias_service_id:Number(m)||null});let h=100,d=0,w=()=>{if(d++,!e&&this.items?.length&&(e=this.items.map(u=>u.id)),!e){let u=K(["item_id","published_time"]);u?.item_id&&(e=[u.item_id],f.item_pub_date=u.published_time),Ne&&this.itemIds?.length>0&&(e=this.itemIds)}if(!e&&!this.actionType&&!c&&d<30){setTimeout(w,h);return}f.item_ids=e||null,f.options=n,new ce(f)},b=n.service_name&&this.serviceName!==n.service_name?Ye({serviceName:n.service_name,uid:this.uid}):this.fetchPrefs();return Promise.all([b,this.fetchUID(void 0,b)]).then(([u,_])=>{u.consent&&(n.consent=u.consent),u.service&&E(n,{service_id:u.service.service_id,service_type:u.service.service_type,country:u.service.country,client_id:u.service.client_id,lazyload_widget_ids:u.service.lazyload_widget_ids}),f.uid=f.uid||_,f.cid=f.cid||u.cid;let v=u.tcfapiSet==="0"&&_===ai?"1":u.gdpr;v&&(n.gdpr=v),w()})}renderWidgetByWidth(i,e,n,r){let s=ve(i);if(!s){g(`renderWidgetByWidth cannot find any dom element with given id: ${i}`);return}let o=Ce()?"mo":"pc",a=s.getAttribute(`data-widget_id-${o}`);if(a==="hidden"){g(`Skip rendering #${s.id} since the widget is marked as hidden.`);return}if(!a){let c=/^dablewidget_([a-z\d]+)_([a-z\d]+)$/i.exec(s.id);c&&(a=o==="pc"?c[1]:c[2])}if(a)s.setAttribute("data-widget_id",a);else if(!s.getAttribute("data-widget_id")){g(`No Widget ID found for ${o}: #${s.id}`);return}return this.renderWidget(s,e,n,r)}renderWidgetOnEvent(i,e,n,r,s){let o=ve(e);if(!o){g(`renderWidgetOnEvent cannot find any dom element with given id: ${e}`);return}ne(i,o,{renderWidget:()=>this.renderWidget(o,n,r,s),renderWidgetByWidth:()=>this.renderWidgetByWidth(o,n,r,s)})}initPushServiceWorker(){this.fetchPrefs().then(i=>{Tt(i)})}};var di=me(),de=`ds-popup-${Math.random()*999999|0}`,ui=`ds-frame-${Math.random()*999999|0}`,fi=`dable-minicontent-body ${di?"dable-minicontent-body-ios":""}`;function Vn({isMobile:t,customW:i=null,customH:e=null}){if(document.getElementById(de))return;let n=t?"100%":"calc(100% - 100px)",s=i||(t?"95%":550),o="";t?o="position: fixed; top: 0; left: 0; right: 0; bottom: 0;":o="position: absolute; top: 50px; left: 50%; border-radius: 2px; transform: translate(-50%, 0);",/^\d+$/.test(s)&&(s+="px"),document.body.insertAdjacentHTML("beforeend",["<style>",".dable-minicontent-body{overflow:hidden}",".dable-minicontent-body-ios{position:fixed}","</style>",`<div id="${de}" style="position: fixed; z-index: 99999999; top: 0; bottom: 0; right: 0; left: 0; text-align: center; display: none; overflow: auto; background: rgba(0,0,0,.8); backdrop-filter: blur(2px)">`,`<div class="dable-minicontent-wrap" style="margin:0 auto;width:${s};height:${n};min-height:400px;overflow:hidden;-webkit-overflow-scrolling:touch;${o}">`,`<iframe src="about:blank" id="${ui}" frameborder="0" scrolling="yes" width="${i||"100%"}" height="${e||"100%"}"></iframe>`,"</div>","</div>"].join(""));let a=document.getElementById(de);a&&(a.onclick=nt)}function mi({clickLink:t,url:i,isMobile:e,customH:n,customW:r}){Vn({isMobile:e,customH:n,customW:r});let s=document.getElementById(de),o=document.getElementById(ui);i=i||"https://news.dable.io/minicontent_v2";let a=i.indexOf("?")>-1?"&":"?";e===void 0&&(e=Le());let c=new URLSearchParams({is_mobile:Number(e)||"",is_IOS:Number(di)||"",from:window.location.href});t&&c.set("clicklog_link",t),o.src=i+a+c.toString(),s.style.display="block",document.body.className+=` ${fi}`}function nt(){let t=document.getElementById(de);document.body.className=document.body.className.replace(` ${fi}`,""),t&&t.parentNode?.removeChild(t)}function Hn({campaignId:t,contentId:i,serviceName:e="",isContentRequest:n=!1,isMobile:r,nocache:s=!1,customW:o=null,customH:a=null}){let c=new URLSearchParams({service_name:e});n&&c.set("is_content_request","1"),s&&c.set("nocache","1");let l=`https://news.dable.io/${encodeURIComponent(`${t}-${i}`)}/minicontent?${c.toString()}`;mi({url:l,isMobile:r,customW:o,customH:a})}var gi=()=>{window.dable&&(window.dable.__minicontent={show:Hn,close:nt}),I(t=>{if(t("close_minicontent")==="1"){nt();return}let i=t("show_minicontent");if(i){let e=i.split("--"),n=decodeURIComponent(window.atob(e[0]));mi({clickLink:n})}})};var rt=`d-popup-${Date.now()}`;function Fn(t){let i=t.split("-")[0].toLowerCase(),e=t.toLowerCase();switch(i){case"ko":return{title:"Dable \uC18C\uAC1C",page:"introduction.html"};case"ja":return{title:"Dable\u306E\u7D39\u4ECB",page:"introduction_ja.html"};case"zh":switch(e){case"zh-tw":case"zh-hant":case"zh-hk":return{title:"Dable \u7B80\u4ECB",page:"introduction_zh-hant.html"};default:return{title:"Dable \u7C21\u4ECB",page:"introduction_zh-hans.html"}}case"vi":return{title:"gi\u1EDBi thi\u1EC7u Dable",page:"introduction_vi.html"};case"th":return{title:"Dable \u0E1A\u0E17\u0E19\u0E33",page:"introduction_th.html"};case"id":return{title:"Pengenalan Dable",page:"introduction_id.html"};case"en":default:return{title:"About Dable",page:"introduction_en.html"}}}function pi(){return document.getElementById(rt)}function hi(){let t=pi();if(!t)return;let i=t.getAttribute("data-opener");if(t.parentNode?.removeChild(t),i)try{document.querySelector(`#${i} iframe[src*="/widgets/id/"]`)?.contentWindow?.focus()}catch{}}function zn(t){let i=window.top!==window.self,e=Fn(z()),n=new URLSearchParams({uid:t.uid,service_id:t.serviceId,widget_id:t.widgetId,ads:t.ads,from:window.location.href,wrapped:i.toString()}),r=`https://static.dable.io/static/html/${e.page}?${n.toString()}`;if(i){window.open(r,"Dable");return}if(pi())return;let s=680,o=606;window.matchMedia("screen and (max-width: 680px)").matches&&(s=320,o=470),document.body.insertAdjacentHTML("beforeend",[`<div id="${rt}" style="position:fixed;z-index:99999999;top:0;left:0;right:0;bottom:0;text-align:center;-webkit-overflow-scrolling:touch" data-opener="${t.id}">`,'<div style="position:fixed;top:0;left:0;right:0;bottom:0;background-color:#000;opacity:.8;"></div>',`<div style="position:absolute;top:50%;left:50%;width:${s}px;height:${o}px;transform:translate(-50%,-50%);border-radius:8px;-webkit-overflow-scrolling:touch;overflow-y:scroll;overflow-x:hidden">`,`<iframe src=${r} title="${e.title}" width="${s}" height="${o}" frameborder="0" scrolling="yes"></iframe>`,"</div>","</div>"].join("")),document.querySelector(`#${rt} > div`)?.addEventListener("click",hi)}function _i(){I(t=>{if(t("close_dable_popup")==="1"){hi();return}if(t("show_dable_popup")==="1"){zn({id:t("id")||"",uid:t("uid")||"",serviceId:t("service_id")||"",widgetId:t("widget_id")||"",ads:t("ads")||""});return}})}(t=>{if(t?.pluginLoaded)return;t||(window.dable=t=(...e)=>{t.q||(t.q=[]),t.q.push(e)});let i=t.q||[];if(Array.isArray(i)){t.q=new re(new le);for(let e=0;e<i.length;e++)t.q.push(i[e]);t.pluginLoaded=!0,_i(),gi()}})(window.dable);})();
